<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donkomi Admin Portal</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="admin-styles.css">
</head>
<body>
    <!-- Login Screen -->
    <div class="admin-container" id="loginScreen">
        <div class="admin-login-card">
            <div class="admin-header">
                <div class="logo-section">
                    <i class="fas fa-shopping-bag"></i>
                    <h1>Donkomi</h1>
                </div>
                <h2>Admin Portal</h2>
                <p>Access your Kumasi operations dashboard</p>
            </div>

            <form class="admin-login-form" id="adminLoginForm">
                <div class="form-group">
                    <label for="username">
                        <i class="fas fa-user"></i>
                        Username
                    </label>
                    <input type="text" id="username" name="username" required placeholder="Enter admin username">
                </div>

                <div class="form-group">
                    <label for="password">
                        <i class="fas fa-lock"></i>
                        Password
                    </label>
                    <input type="password" id="password" name="password" required placeholder="Enter admin password">
                </div>

                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="rememberMe" name="rememberMe">
                        <span class="checkmark"></span>
                        Remember me
                    </label>
                </div>

                <button type="submit" class="login-btn">
                    <i class="fas fa-sign-in-alt"></i>
                    Login to Admin Portal
                </button>
            </form>

            <div class="admin-footer">
                <a href="index.html" class="back-to-site">
                    <i class="fas fa-arrow-left"></i>
                    Back to Donkomi
                </a>
                <p class="security-note">
                    <i class="fas fa-shield-alt"></i>
                    Secure admin access for authorized personnel only
                </p>
            </div>
        </div>
    </div>

    <!-- Main Admin Dashboard -->
    <div class="admin-dashboard" id="adminDashboard" style="display: none;">
        <!-- Header -->
        <header class="admin-header-dashboard">
            <div class="header-left">
                <div class="logo-section">
                    <i class="fas fa-shopping-bag"></i>
                    <h1>Donkomi Admin</h1>
                </div>
            </div>
            <div class="header-right">
                <div class="admin-info">
                    <span class="admin-name">Admin User</span>
                    <span class="admin-role">Kumasi Operations</span>
                </div>
                <button class="back-to-website-btn" onclick="goToWebsite()" title="Visit main website">
                    <i class="fas fa-external-link-alt"></i>
                    Back to Website
                </button>
                <button class="logout-btn" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    Logout
                </button>
            </div>
        </header>

        <!-- Sidebar -->
        <aside class="admin-sidebar">
            <nav class="admin-nav">
                <a href="#dashboard" class="nav-item active" data-section="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#products" class="nav-item" data-section="products">
                    <i class="fas fa-box"></i>
                    <span>Products</span>
                </a>
                <a href="#categories" class="nav-item" data-section="categories">
                    <i class="fas fa-tags"></i>
                    <span>Categories</span>
                </a>
                <a href="#orders" class="nav-item" data-section="orders">
                    <i class="fas fa-shopping-cart"></i>
                    <span>Orders</span>
                </a>
                <a href="#analytics" class="nav-item" data-section="analytics">
                    <i class="fas fa-chart-bar"></i>
                    <span>Analytics</span>
                </a>
                <a href="#messages" class="nav-item" data-section="messages">
                    <i class="fas fa-comments"></i>
                    <span>Messages</span>
                    <span class="message-badge" id="messageBadge" style="display: none;">•</span>
                </a>
                <a href="#settings" class="nav-item" data-section="settings">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="admin-main">
            <!-- Dashboard Section -->
            <section id="dashboard" class="admin-section active">
                <div class="section-header">
                    <h2>Dashboard Overview</h2>
                    <p>Welcome to your Kumasi operations dashboard</p>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-box"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalProducts">0</h3>
                            <p>Total Products</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalOrders">0</h3>
                            <p>Total Orders</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-tags"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalCategories">0</h3>
                            <p>Categories</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalRevenue">₵0</h3>
                            <p>Total Revenue</p>
                        </div>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <h3>Recent Orders</h3>
                        <div class="recent-orders" id="recentOrders">
                            <p>No recent orders</p>
                        </div>
                    </div>
                    <div class="dashboard-card">
                        <h3>Quick Actions</h3>
                        <div class="quick-actions">
                            <button class="action-btn" onclick="showSection('products')">
                                <i class="fas fa-plus"></i>
                                Add Product
                            </button>
                            <button class="action-btn" onclick="showSection('categories')">
                                <i class="fas fa-folder-plus"></i>
                                Add Category
                            </button>
                            <button class="action-btn" onclick="showSection('orders')">
                                <i class="fas fa-eye"></i>
                                View Orders
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Products Section -->
            <section id="products" class="admin-section">
                <div class="section-header">
                    <h2>Product Management</h2>
                    <button class="btn-primary" onclick="showAddProductModal()">
                        <i class="fas fa-plus"></i>
                        Add New Product
                    </button>
                </div>

                <div class="products-controls">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="productSearch" placeholder="Search products...">
                    </div>
                    <div class="filter-controls">
                        <select id="categoryFilter">
                            <option value="">All Categories</option>
                        </select>
                        <select id="sortProducts">
                            <option value="name">Sort by Name</option>
                            <option value="price">Sort by Price</option>
                            <option value="date">Sort by Date</option>
                        </select>
                    </div>
                </div>

                <div class="products-grid" id="productsGrid">
                    <!-- Products will be loaded here -->
                </div>
            </section>

            <!-- Categories Section -->
            <section id="categories" class="admin-section">
                <div class="section-header">
                    <h2>Category Management</h2>
                    <button class="btn-primary" onclick="showAddCategoryModal()">
                        <i class="fas fa-plus"></i>
                        Add New Category
                    </button>
                </div>

                <div class="categories-grid" id="categoriesGrid">
                    <!-- Categories will be loaded here -->
                </div>
            </section>

            <!-- Orders Section -->
            <section id="orders" class="admin-section">
                <div class="section-header">
                    <h2>Order Management</h2>
                </div>

                <div class="orders-controls">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="orderSearch" placeholder="Search orders...">
                    </div>
                    <div class="filter-controls">
                        <select id="statusFilter">
                            <option value="">All Status</option>
                            <option value="pending">Pending</option>
                            <option value="processing">Processing</option>
                            <option value="shipped">Shipped</option>
                            <option value="delivered">Delivered</option>
                            <option value="cancelled">Cancelled</option>
                        </select>
                    </div>
                </div>

                <div class="orders-table" id="ordersTable">
                    <!-- Orders will be loaded here -->
                </div>
            </section>

            <!-- Analytics Section -->
            <section id="analytics" class="admin-section">
                <div class="section-header">
                    <h2>Analytics & Reports</h2>
                </div>
                
                <div class="analytics-grid">
                    <div class="analytics-card">
                        <h3>Sales Overview</h3>
                        <div class="chart-placeholder">
                            <i class="fas fa-chart-line"></i>
                            <p>Sales chart will be displayed here</p>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h3>Top Products</h3>
                        <div class="top-products" id="topProducts">
                            <p>No data available</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Messages Section -->
            <section id="messages" class="admin-section">
                <div class="section-header">
                    <h2>Customer Messages</h2>
                    <p>Chat with your customers in real-time</p>
                </div>
                
                <div class="chat-dashboard">
                    <div class="chat-conversations">
                        <div class="conversations-header">
                            <h3>Conversations</h3>
                            <span class="active-indicator" id="activeConversations">0 active</span>
                        </div>
                        <div class="conversations-list" id="conversationsList">
                            <div class="empty-conversations">
                                <i class="fas fa-comments"></i>
                                <p>No conversations yet</p>
                                <span>Customer messages will appear here</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="chat-window">
                        <div class="chat-window-header" id="chatWindowHeader">
                            <div class="chat-user-info">
                                <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face" alt="User" class="chat-user-avatar" id="chatUserAvatar">
                                <div class="chat-user-details">
                                    <h4 id="chatUserName">Select a conversation</h4>
                                    <span id="chatUserStatus">to start chatting</span>
                                </div>
                            </div>
                            <div class="chat-actions">
                                <button class="chat-action-btn" title="User Info">
                                    <i class="fas fa-info-circle"></i>
                                </button>
                                <button class="chat-action-btn" title="Clear Chat">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="chat-messages" id="adminChatMessages">
                            <div class="chat-welcome">
                                <i class="fas fa-comments"></i>
                                <h3>Welcome to Customer Support</h3>
                                <p>Select a conversation from the left to start chatting with customers.</p>
                            </div>
                        </div>
                        
                        <div class="chat-input-area" id="chatInputArea" style="display: none;">
                            <div class="chat-input-container">
                                <input type="text" id="adminChatInput" placeholder="Type your message..." title="Type your message">
                                <button id="adminSendBtn" onclick="sendAdminMessage()">
                                    <i class="fas fa-paper-plane"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings" class="admin-section">
                <div class="section-header">
                    <h2>Admin Settings</h2>
                </div>
                
                <div class="settings-grid">
                    <div class="settings-card">
                        <h3>Profile Settings</h3>
                        <form class="settings-form">
                            <div class="form-group">
                                <label>Admin Name</label>
                                <input type="text" value="Admin User">
                            </div>
                            <div class="form-group">
                                <label>Email</label>
                                <input type="email" value="admin@donkomi.com">
                            </div>
                            <button type="submit" class="btn-primary">Update Profile</button>
                        </form>
                    </div>
                    <div class="settings-card">
                        <h3>System Settings</h3>
                        <div class="setting-item">
                            <label>Enable Notifications</label>
                            <input type="checkbox" checked>
                        </div>
                        <div class="setting-item">
                            <label>Auto-save Products</label>
                            <input type="checkbox" checked>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Add Product Modal -->
    <div class="modal" id="addProductModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Product</h3>
                <button class="close-modal" onclick="closeModal('addProductModal')">&times;</button>
            </div>
            <form class="modal-form" id="addProductForm">
                <div class="form-row">
                    <div class="form-group">
                        <label>Product Name *</label>
                        <input type="text" name="name" required>
                    </div>
                    <div class="form-group">
                        <label>Category *</label>
                        <select name="category" required>
                            <option value="">Select Category</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Price (₵) *</label>
                        <input type="number" name="price" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label>Original Price (₵)</label>
                        <input type="number" name="originalPrice" step="0.01">
                    </div>
                </div>

                <div class="form-group">
                    <label>Description</label>
                    <textarea name="description" rows="3"></textarea>
                </div>

                <div class="form-group">
                    <label>Product Image *</label>
                    <div class="image-upload">
                        <input type="file" name="image" accept="image/*" required>
                        <div class="upload-preview">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Click to upload image</p>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Badge</label>
                    <select name="badge">
                        <option value="">No Badge</option>
                        <option value="Popular">Popular</option>
                        <option value="New">New</option>
                        <option value="Premium">Premium</option>
                        <option value="Sale">Sale</option>
                    </select>
                </div>

                <div class="modal-actions">
                    <button type="button" class="btn-secondary" onclick="closeModal('addProductModal')">Cancel</button>
                    <button type="submit" class="btn-primary">Add Product</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Category Modal -->
    <div class="modal" id="addCategoryModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Category</h3>
                <button class="close-modal" onclick="closeModal('addCategoryModal')">&times;</button>
            </div>
            <form class="modal-form" id="addCategoryForm">
                <div class="form-group">
                    <label>Category Name *</label>
                    <input type="text" name="name" required>
                </div>
                
                <div class="form-group">
                    <label>Parent Category</label>
                    <select name="parentCategory">
                        <option value="">No Parent (Main Category)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Category Icon *</label>
                    <select name="icon" required>
                        <option value="">Select Icon</option>
                        <option value="fas fa-heart">Health & Beauty</option>
                        <option value="fas fa-laptop">Electronics</option>
                        <option value="fas fa-car">Vehicles</option>
                        <option value="fas fa-seedling">Agriculture</option>
                        <option value="fas fa-tools">Tools</option>
                        <option value="fas fa-tshirt">Fashion</option>
                        <option value="fas fa-home">Home & Garden</option>
                        <option value="fas fa-gamepad">Gaming</option>
                        <option value="fas fa-book">Books</option>
                        <option value="fas fa-dumbbell">Sports</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Category Color</label>
                        <select name="color">
                            <option value="health">Health (Orange)</option>
                            <option value="beauty">Beauty (Pink)</option>
                            <option value="electronics">Electronics (Blue)</option>
                            <option value="vehicles">Vehicles (Red)</option>
                            <option value="agriculture">Agriculture (Green)</option>
                            <option value="tools">Tools (Gray)</option>
                        </select>
                </div>

                <div class="form-group">
                    <label>Description</label>
                    <textarea name="description" rows="3"></textarea>
                </div>

                <div class="modal-actions">
                    <button type="button" class="btn-secondary" onclick="closeModal('addCategoryModal')">Cancel</button>
                    <button type="submit" class="btn-primary">Add Category</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Product Modal -->
    <div class="modal" id="editProductModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Product</h3>
                <button class="close-modal" onclick="closeModal('editProductModal')">&times;</button>
            </div>
            <form class="modal-form" id="editProductForm">
                <input type="hidden" name="productId">
                <div class="form-row">
                    <div class="form-group">
                        <label>Product Name *</label>
                        <input type="text" name="name" required>
                    </div>
                    <div class="form-group">
                        <label>Category *</label>
                        <select name="category" required>
                            <option value="">Select Category</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Price (₵) *</label>
                        <input type="number" name="price" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label>Original Price (₵)</label>
                        <input type="number" name="originalPrice" step="0.01">
                    </div>
                </div>

                <div class="form-group">
                    <label>Description</label>
                    <textarea name="description" rows="3"></textarea>
                </div>

                <div class="form-group">
                    <label>Product Image</label>
                    <div class="image-upload">
                        <input type="file" name="image" accept="image/*">
                        <div class="upload-preview">
                            <img id="currentProductImage" src="" alt="">
                            <p>Click to change image</p>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Badge</label>
                    <select name="badge">
                        <option value="">No Badge</option>
                        <option value="Popular">Popular</option>
                        <option value="New">New</option>
                        <option value="Premium">Premium</option>
                        <option value="Sale">Sale</option>
                    </select>
                </div>

                <div class="modal-actions">
                    <button type="button" class="btn-secondary" onclick="closeModal('editProductModal')">Cancel</button>
                    <button type="submit" class="btn-primary">Update Product</button>
                </div>
            </form>
        </div>
    </div>

    <script src="admin.js"></script>
</body>
</html>
